!function(e){"use strict";e.xrhyme=function(t,n){var o,r=this,a={};r.$x_cont=e(t).addClass("x_container"),r.$x_cont.data("X-Rhyme",r),r.$x_wrap=r.$x_cont.parent().addClass("x_wrapper"),a.init=function(){r.options=e.extend({},e.xrhyme.defaults,n),r.width=0,r.offset={},r.$x_cont.children().each(function(t){if(e(this).addClass("x_item"),r.options.anchorMode){var n=e(this).attr("id");n&&(r.offset[n]=r.width)}else r.offset[t]=r.width;r.width+=e(this).outerWidth(!0)}),r.$x_cont.width(r.width),a.resetContent(),r.endsFlag=0,r.options.navigationSelector&&e(r.options.navigationSelector).each(function(t){var n=r.options.anchorMode?e(this).attr("href").replace("#",""):t;e(this).on("click",function(o){r.$x_wrap.stop().animate({scrollLeft:r.offset[n]},{queue:!1,duration:r.options.animationTime,easing:r.options.easing,complete:function(){r.endsFlag=a.endsFlag(),e.isFunction(r.options.animeComplete)&&r.options.animeComplete.call(r,n,t)}}),o.preventDefault?o.preventDefault():o.returnValue=!1})}),window.onresize=a.resetContent,document.onkeydown=a.keyScroll,-1!=navigator.userAgent.indexOf("Firefox")?document.addEventListener("DOMMouseScroll",a.mouseWheel,{passive:!1}):document.onmousewheel=a.mouseWheel},a.endsFlag=function(){return r.$x_wrap.scrollLeft()?r.$x_cont.outerWidth(!0)/(r.$x_wrap.scrollLeft()+e(window).width()):r.$x_wrap.scrollLeft()},a.frontier=(o=2,function(t){if(r.endsFlag=a.endsFlag(),e.isFunction(r.options.animeComplete)){if(o>1){var n=r.$x_wrap.scrollLeft()-t/2,s=r.$x_wrap.scrollLeft()+t/2;for(i in r.offset)if((r.offset[i]-n)*(r.offset[i]-s)<0){r.options.animeComplete.call(r,i,t);break}}o=r.endsFlag}}),a.resetContent=function(){r.perWidth=r.$x_wrap.width()/10;var t=e(window).width()-e(".x_item:last").outerWidth(!0);t>0&&r.$x_cont.width(r.width+t)},a.mouseWheel=function(e){var t=(e=e||window.event).detail?40*e.detail:-1*e.wheelDelta,n=(t*=r.options.wheelSpeed)+r.$x_wrap.scrollLeft();return r.$x_wrap.scrollLeft(n),a.frontier(t),!1},a.keyScroll=function(e){switch((e=e||window.event).keyCode){case 37:r.$x_wrap.scrollLeft(r.$x_wrap.scrollLeft()-r.perWidth),a.frontier(-r.perWidth);break;case 39:r.$x_wrap.scrollLeft(r.$x_wrap.scrollLeft()+r.perWidth),a.frontier(+r.perWidth);break;default:return}},a.init()},e.xrhyme.defaults={navigationSelector:"",anchorMode:!1,wheelSpeed:.5,easing:"swing",animationTime:600,animeComplete:""},e.fn.xrhyme=function(t,n){return this.each(function(o){var i=e(this).data("X-Rhyme");(typeof t).match("object|undefined")&&(i?n&&n.call(i):(i=new e.xrhyme(this,t),n&&n.call(i)))})}}(jQuery);
